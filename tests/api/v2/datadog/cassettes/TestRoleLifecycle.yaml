---
version: 1
interactions:
- request:
    body: |
      {"data":{"attributes":{"name":"test-role-datadog-client-go-1586970802617478000"},"type":"roles"}}
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - DataDog/0.1.0/go-experimental
    url: https://api.datadoghq.com/api/v2/roles
    method: POST
  response:
    body: '{"data":{"type":"roles","id":"699448d0-7f3c-11ea-93dd-7f9e3260372d","attributes":{"name":"test-role-datadog-client-go-1586970802617478000","created_at":"2020-04-15T17:13:23.430566+00:00","modified_at":"2020-04-15T17:13:23.430566+00:00"},"relationships":{"permissions":{"data":[{"type":"permissions","id":"d90f6830-d3d8-11e9-a77a-b3404e5e9ee2"},{"type":"permissions","id":"4441648c-d8b1-11e9-a77a-1b899a04b304"}]}}}}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - "415"
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Wed, 15 Apr 2020 17:13:23 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Wed, 22-Apr-2020 17:13:23 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-Dd-Version:
      - "35.2394813"
      X-Frame-Options:
      - SAMEORIGIN
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |
      {"data":{"attributes":{"name":"updated-test-role-datadog-client-go-1586970802617478000"},"id":"699448d0-7f3c-11ea-93dd-7f9e3260372d","type":"roles"}}
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - DataDog/0.1.0/go-experimental
    url: https://api.datadoghq.com/api/v2/roles/699448d0-7f3c-11ea-93dd-7f9e3260372d
    method: PATCH
  response:
    body: '{"data":{"type":"roles","id":"699448d0-7f3c-11ea-93dd-7f9e3260372d","attributes":{"name":"updated-test-role-datadog-client-go-1586970802617478000","created_at":"2020-04-15T17:13:23.430566+00:00","modified_at":"2020-04-15T17:13:23.653605+00:00"},"relationships":{"permissions":{"data":[{"type":"permissions","id":"d90f6830-d3d8-11e9-a77a-b3404e5e9ee2"},{"type":"permissions","id":"4441648c-d8b1-11e9-a77a-1b899a04b304"}]}}}}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - "423"
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Wed, 15 Apr 2020 17:13:23 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Wed, 22-Apr-2020 17:13:23 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-Dd-Version:
      - "35.2394813"
      X-Frame-Options:
      - SAMEORIGIN
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      User-Agent:
      - DataDog/0.1.0/go-experimental
    url: https://api.datadoghq.com/api/v2/roles/699448d0-7f3c-11ea-93dd-7f9e3260372d
    method: GET
  response:
    body: '{"data":{"type":"roles","id":"699448d0-7f3c-11ea-93dd-7f9e3260372d","attributes":{"name":"updated-test-role-datadog-client-go-1586970802617478000","created_at":"2020-04-15T17:13:23.430566+00:00","modified_at":"2020-04-15T17:13:23.653605+00:00","user_count":0},"relationships":{"permissions":{"data":[{"type":"permissions","id":"d90f6830-d3d8-11e9-a77a-b3404e5e9ee2"},{"type":"permissions","id":"4441648c-d8b1-11e9-a77a-1b899a04b304"}]}}}}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - "438"
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Wed, 15 Apr 2020 17:13:23 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Wed, 22-Apr-2020 17:13:23 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-Dd-Version:
      - "35.2394813"
      X-Frame-Options:
      - SAMEORIGIN
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      User-Agent:
      - DataDog/0.1.0/go-experimental
    url: https://api.datadoghq.com/api/v2/roles?filter=updated-test-role-datadog-client-go-1586970802617478000&page%5Bnumber%5D=0&page%5Bsize%5D=1&sort=-modified_at
    method: GET
  response:
    body: '{"meta":{"page":{"total_filtered_count":1,"total_count":5}},"data":[{"type":"roles","id":"699448d0-7f3c-11ea-93dd-7f9e3260372d","attributes":{"name":"updated-test-role-datadog-client-go-1586970802617478000","created_at":"2020-04-15T17:13:23.430566+00:00","modified_at":"2020-04-15T17:13:23.653605+00:00","user_count":0},"relationships":{"permissions":{"data":[{"type":"permissions","id":"d90f6830-d3d8-11e9-a77a-b3404e5e9ee2"},{"type":"permissions","id":"4441648c-d8b1-11e9-a77a-1b899a04b304"}]}}}]}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - "499"
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Wed, 15 Apr 2020 17:13:24 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Wed, 22-Apr-2020 17:13:23 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-Dd-Version:
      - "35.2394813"
      X-Frame-Options:
      - SAMEORIGIN
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      User-Agent:
      - DataDog/0.1.0/go-experimental
    url: https://api.datadoghq.com/api/v2/roles/699448d0-7f3c-11ea-93dd-7f9e3260372d
    method: DELETE
  response:
    body: ""
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - "0"
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Wed, 15 Apr 2020 17:13:24 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Wed, 22-Apr-2020 17:13:24 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-Dd-Version:
      - "35.2394813"
      X-Frame-Options:
      - SAMEORIGIN
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      User-Agent:
      - DataDog/0.1.0/go-experimental
    url: https://api.datadoghq.com/api/v2/roles/699448d0-7f3c-11ea-93dd-7f9e3260372d
    method: DELETE
  response:
    body: '{"errors": ["The role 699448d0-7f3c-11ea-93dd-7f9e3260372d does not exist
      not found"]}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - "86"
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Wed, 15 Apr 2020 17:13:24 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-Dd-Version:
      - "35.2394813"
      X-Frame-Options:
      - SAMEORIGIN
    status: 404 Not Found
    code: 404
    duration: ""
