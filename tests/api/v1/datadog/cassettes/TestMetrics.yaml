---
version: 1
interactions:
- request:
    body: '{"series": [{"host": "go-client-test-host", "metric": "Test_TestMetrics_1618221195",
      "points": [[1618221135.000000, 10.5], [1618221195.000000, 11]], "tags": ["tag:foo",
      "bar:baz"]}]}'
    form: {}
    headers:
      Content-Type:
      - application/json
      X-Datadog-Parent-Id:
      - "5398853299104183940"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "5398853299104183940"
    url: https://api.datadoghq.com/api/v1/series
    method: POST
  response:
    body: '{"status": "ok"}'
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - "16"
      Content-Type:
      - text/json
      Date:
      - Mon, 12 Apr 2021 09:53:15 GMT
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
    status: 202 Accepted
    code: 202
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - ListActiveMetrics
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.19+dev (go go1.15.7; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "2753060944962874970"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "8119701528421781583"
    url: https://api.datadoghq.com/api/v1/metrics?from=1618221195
    method: GET
  response:
    body: '{"metrics":[],"from":"1618221195"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 12 Apr 2021 09:53:15 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - avItM/vasf5577ctA38LDT0J2A9+fvs/uvoH0cN7ua0YsjdSdTqOUoUrjVr1Jdbk
      X-Dd-Version:
      - "35.4287331"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "1000"
      X-Ratelimit-Period:
      - "3600"
      X-Ratelimit-Remaining:
      - "975"
      X-Ratelimit-Reset:
      - "405"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - ListActiveMetrics
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.19+dev (go go1.15.7; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "262405903014553729"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "8119701528421781583"
    url: https://api.datadoghq.com/api/v1/metrics?from=1618221195
    method: GET
  response:
    body: '{"metrics":[],"from":"1618221195"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 12 Apr 2021 09:53:25 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - QVgG/95Ev83CsAL8Rf7h77ZTd2ZJztQrR7lHoLT0VJkGU+zGxYBbI719ni1BioIN
      X-Dd-Version:
      - "35.4287331"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "1000"
      X-Ratelimit-Period:
      - "3600"
      X-Ratelimit-Remaining:
      - "974"
      X-Ratelimit-Reset:
      - "395"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - ListActiveMetrics
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.19+dev (go go1.15.7; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "9056164411769562472"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "8119701528421781583"
    url: https://api.datadoghq.com/api/v1/metrics?from=1618221195
    method: GET
  response:
    body: '{"metrics":["Test_TestMetrics_1618221195"],"from":"1618221195"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 12 Apr 2021 09:53:35 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - uYzWahuTRL250zStRgWMYfio8yO7+K3bWuaNFAFhDkc+wdfyEW25FjGa6GAmApoB
      X-Dd-Version:
      - "35.4287331"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "1000"
      X-Ratelimit-Period:
      - "3600"
      X-Ratelimit-Remaining:
      - "973"
      X-Ratelimit-Reset:
      - "385"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - QueryMetrics
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.19+dev (go go1.15.7; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "7199845931407764508"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "8119701528421781583"
    url: https://api.datadoghq.com/api/v1/query?from=1618221095&query=avg%3ATest_TestMetrics_1618221195%7Bbar%3Abaz%7Dby%7Bhost%7D&to=1618221295
    method: GET
  response:
    body: '{"status":"ok","res_type":"time_series","from_date":1618221095000,"series":[{"end":1618221195000,"attributes":{},"metric":"Test_TestMetrics_1618221195","interval":1,"tag_set":["host:go-client-test-host"],"start":1618221135000,"length":2,"query_index":0,"aggr":"avg","scope":"bar:baz,host:go-client-test-host","pointlist":[[1618221135000.0,10.5],[1618221195000.0,11.0]],"expression":"avg:Test_TestMetrics_1618221195{bar:baz,host:go-client-test-host}","unit":null,"display_name":"Test_TestMetrics_1618221195"}],"to_date":1618221295000,"resp_version":1,"query":"avg:Test_TestMetrics_1618221195{bar:baz}by{host}","message":"","group_by":["host"]}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 12 Apr 2021 09:53:35 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - jFewb+r/PyY1qG2Hz1nGa26sZVfb0Glhnnkt/VZXOk/OEjVhnlhh0mqRIdk7/k7O
      X-Dd-Version:
      - "35.4287331"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "1600"
      X-Ratelimit-Period:
      - "3600"
      X-Ratelimit-Remaining:
      - "1596"
      X-Ratelimit-Reset:
      - "385"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - ListMetrics
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.19+dev (go go1.15.7; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "6657106914434199542"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "8119701528421781583"
    url: https://api.datadoghq.com/api/v1/search?q=metrics%3ATest_TestMetrics_1618221195
    method: GET
  response:
    body: '{"results":{"metrics":["Test_TestMetrics_1618221195"]}}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 12 Apr 2021 09:53:36 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - H3w8Mrr3Zvvyelxd0CzW5tO9iiphi07m1Jtc4gdzQXXO5XTfzeUGAoulmS4WWkh5
      X-Dd-Version:
      - "35.4287331"
      X-Frame-Options:
      - SAMEORIGIN
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - GetMetricMetadata
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.19+dev (go go1.15.7; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "7231779168935098723"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "8119701528421781583"
    url: https://api.datadoghq.com/api/v1/metrics/Test_TestMetrics_1618221195
    method: GET
  response:
    body: '{"description":null,"short_name":null,"integration":null,"statsd_interval":null,"per_unit":null,"type":null,"unit":null}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 12 Apr 2021 09:53:36 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - 5BjIP66/WkguTt6WYJqul4fmsD0R3Xxrwlzr4pBdsyGzjZaOVscrc8uYVxgkeTdP
      X-Dd-Version:
      - "35.4287331"
      X-Frame-Options:
      - SAMEORIGIN
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |
      {"description":"description","per_unit":"second","short_name":"short_name","statsd_interval":20,"type":"count","unit":"byte"}
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Dd-Operation-Id:
      - UpdateMetricMetadata
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.19+dev (go go1.15.7; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "1583524551018443842"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "8119701528421781583"
    url: https://api.datadoghq.com/api/v1/metrics/Test_TestMetrics_1618221195
    method: PUT
  response:
    body: '{"description":"description","short_name":"short_name","integration":null,"statsd_interval":20,"per_unit":"second","type":"count","unit":"byte"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 12 Apr 2021 09:53:36 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - yfcUulmZgmbv+K7iFKyNSQDZDQdPhA231orR6elHVfdKZOpm+FZnFKtyuxkhABbW
      X-Dd-Version:
      - "35.4287331"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "2000"
      X-Ratelimit-Period:
      - "60"
      X-Ratelimit-Remaining:
      - "1999"
      X-Ratelimit-Reset:
      - "24"
    status: 200 OK
    code: 200
    duration: ""
