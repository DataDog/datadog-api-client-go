---
version: 1
interactions:
- request:
    body: '{"series": [{"host": "go-client-test-host", "metric": "go_TestMetrics_local_1589290338",
      "points": [[1589290278.000000, 10.5], [1589290338.000000, 11]], "tags": ["tag:foo",
      "bar:baz"]}]}'
    form: {}
    headers:
      Content-Type:
      - application/json
      X-Datadog-Parent-Id:
      - "5388237648811813634"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "5388237648811813634"
    url: https://api.datadoghq.com/api/v1/series
    method: POST
  response:
    body: '{"status": "ok"}'
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - "16"
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - text/json
      Date:
      - Tue, 12 May 2020 13:32:19 GMT
      Dd-Pool:
      - propjoe
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
    status: 202 Accepted
    code: 202
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - ListActiveMetrics
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.2 (go go1.14; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "7381615751505995983"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "5771149391937555798"
    url: https://api.datadoghq.com/api/v1/metrics?from=1589290338
    method: GET
  response:
    body: '{"metrics":[],"from":"1589290338"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Tue, 12 May 2020 13:32:19 GMT
      Dd-Pool:
      - dogweb_events
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Tue, 19-May-2020 13:32:19 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - 8saNDTz8NMj8RaYRfOuAYm5/HbaFU0si2fM/O5BHwD6seNAnn5cqHRJ4VFguvQBx
      X-Dd-Version:
      - "35.2493025"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "100"
      X-Ratelimit-Period:
      - "3600"
      X-Ratelimit-Remaining:
      - "75"
      X-Ratelimit-Reset:
      - "1661"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - ListActiveMetrics
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.2 (go go1.14; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "2368732076571612776"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "5771149391937555798"
    url: https://api.datadoghq.com/api/v1/metrics?from=1589290338
    method: GET
  response:
    body: '{"metrics":[],"from":"1589290338"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Tue, 12 May 2020 13:32:29 GMT
      Dd-Pool:
      - dogweb_events
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Tue, 19-May-2020 13:32:29 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - kR4u9XXhR1JTl+VVD7k6EkQKW5+zBlFgZhd0JT6sPlsXdsptHuELG1ah64n/WrW1
      X-Dd-Version:
      - "35.2493025"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "100"
      X-Ratelimit-Period:
      - "3600"
      X-Ratelimit-Remaining:
      - "74"
      X-Ratelimit-Reset:
      - "1651"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - ListActiveMetrics
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.2 (go go1.14; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "2312555319298753977"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "5771149391937555798"
    url: https://api.datadoghq.com/api/v1/metrics?from=1589290338
    method: GET
  response:
    body: '{"metrics":["go_TestMetrics_local_1589290338"],"from":"1589290338"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Tue, 12 May 2020 13:32:39 GMT
      Dd-Pool:
      - dogweb_events
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Tue, 19-May-2020 13:32:39 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - nkKTvUHT89oYIwb+2s0QkDxhTrg05HH7W3Vd7sGZKit0kWt8SnmuA8wQFRSa51WK
      X-Dd-Version:
      - "35.2492943"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "100"
      X-Ratelimit-Period:
      - "3600"
      X-Ratelimit-Remaining:
      - "73"
      X-Ratelimit-Reset:
      - "1641"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - QueryMetrics
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.2 (go go1.14; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "73901132375287717"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "5771149391937555798"
    url: https://api.datadoghq.com/api/v1/query?from=1589290238&query=avg%3Ago_TestMetrics_local_1589290338%7Bbar%3Abaz%7Dby%7Bhost%7D&to=1589290438
    method: GET
  response:
    body: '{"status":"ok","res_type":"time_series","from_date":1589290238000,"series":[{"end":1589290338000,"attributes":{},"metric":"go_TestMetrics_local_1589290338","interval":1,"tag_set":["host:go-client-test-host"],"start":1589290278000,"length":2,"query_index":0,"aggr":"avg","scope":"bar:baz,host:go-client-test-host","pointlist":[[1589290278000.0,10.5],[1589290338000.0,11.0]],"expression":"avg:go_TestMetrics_local_1589290338{bar:baz,host:go-client-test-host}","unit":null,"display_name":"go_TestMetrics_local_1589290338"}],"to_date":1589290438000,"resp_version":1,"query":"avg:go_TestMetrics_local_1589290338{bar:baz}by{host}","message":"","group_by":["host"]}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Tue, 12 May 2020 13:32:40 GMT
      Dd-Pool:
      - dogweb_query
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Tue, 19-May-2020 13:32:40 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - BZwFeHet+WkV9OfqjnSc+0QYXU8z2v2WntFWz0gEJEdxXAgKGw9h2Zzd++z3Hg75
      X-Dd-Version:
      - "35.2492943"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "600"
      X-Ratelimit-Period:
      - "3600"
      X-Ratelimit-Remaining:
      - "598"
      X-Ratelimit-Reset:
      - "1640"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - ListMetrics
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.2 (go go1.14; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "7313161993453260105"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "5771149391937555798"
    url: https://api.datadoghq.com/api/v1/search?q=metrics%3Ago_TestMetrics_local_1589290338
    method: GET
  response:
    body: '{"results":{"metrics":["go_TestMetrics_local_1589290338"]}}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Tue, 12 May 2020 13:32:40 GMT
      Dd-Pool:
      - dogweb_query
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Tue, 19-May-2020 13:32:40 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - WGEt22UyFjacPJiGCGldkpXy7hlYR0GLzW8P2raGKCRis5TmejD07wafhQzZGMqG
      X-Dd-Version:
      - "35.2492943"
      X-Frame-Options:
      - SAMEORIGIN
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - GetMetricMetadata
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.2 (go go1.14; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "3242301741429107748"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "5771149391937555798"
    url: https://api.datadoghq.com/api/v1/metrics/go_TestMetrics_local_1589290338
    method: GET
  response:
    body: '{"description":null,"short_name":null,"integration":null,"statsd_interval":null,"per_unit":null,"type":null,"unit":null}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Tue, 12 May 2020 13:32:40 GMT
      Dd-Pool:
      - dogweb_events
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Tue, 19-May-2020 13:32:40 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - i88VE4uHAwA5IXh/0IEXQAhr5hGCH9aMkIrX0bISt7VZwzJ4lfiprkupftdl3u1X
      X-Dd-Version:
      - "35.2493025"
      X-Frame-Options:
      - SAMEORIGIN
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |
      {"description":"description","per_unit":"second","short_name":"short_name","statsd_interval":20,"type":"count","unit":"byte"}
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Dd-Operation-Id:
      - UpdateMetricMetadata
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.2 (go go1.14; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "1631387371743955731"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "5771149391937555798"
    url: https://api.datadoghq.com/api/v1/metrics/go_TestMetrics_local_1589290338
    method: PUT
  response:
    body: '{"description":"description","short_name":"short_name","integration":null,"statsd_interval":20,"per_unit":"second","type":"count","unit":"byte"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Tue, 12 May 2020 13:32:41 GMT
      Dd-Pool:
      - dogweb_events
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Tue, 19-May-2020 13:32:40 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - gT77TxVa6YzU1hLk0fEwlRtqipv+lYYSzCzPsgQrYlzKlN4J84EwxCNMZ8d6B8vp
      X-Dd-Version:
      - "35.2492943"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "2000"
      X-Ratelimit-Period:
      - "60"
      X-Ratelimit-Remaining:
      - "1999"
      X-Ratelimit-Reset:
      - "19"
    status: 200 OK
    code: 200
    duration: ""
