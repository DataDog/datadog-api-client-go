---
version: 1
interactions:
- request:
    body: '{"series": [{"host": "go-client-test-host", "metric": "Test_TestMetrics_1617977863",
      "points": [[1617977803.000000, 10.5], [1617977863.000000, 11]], "tags": ["tag:foo",
      "bar:baz"]}]}'
    form: {}
    headers:
      Content-Type:
      - application/json
      X-Datadog-Parent-Id:
      - "4577019357124445071"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "4577019357124445071"
    url: https://api.datadoghq.com/api/v1/series
    method: POST
  response:
    body: '{"status": "ok"}'
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - "16"
      Content-Type:
      - text/json
      Date:
      - Fri, 09 Apr 2021 14:17:43 GMT
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
    status: 202 Accepted
    code: 202
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - ListActiveMetrics
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.19+dev (go go1.15.7; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "7535880617336039283"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "1319794266971762466"
    url: https://api.datadoghq.com/api/v1/metrics?from=1617977863
    method: GET
  response:
    body: '{"metrics":[],"from":"1617977863"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Fri, 09 Apr 2021 14:17:43 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - avItM/vasf5577ctA38LDT0J2A9+fvs/uvoH0cN7ua0YsjdSdTqOUoUrjVr1Jdbk
      X-Dd-Version:
      - "35.4276613"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "1000"
      X-Ratelimit-Period:
      - "3600"
      X-Ratelimit-Remaining:
      - "982"
      X-Ratelimit-Reset:
      - "2537"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - ListActiveMetrics
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.19+dev (go go1.15.7; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "7564577453185564883"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "1319794266971762466"
    url: https://api.datadoghq.com/api/v1/metrics?from=1617977863
    method: GET
  response:
    body: '{"metrics":[],"from":"1617977863"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Fri, 09 Apr 2021 14:17:53 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - p2VhIV8Z8tq4n1/PdkzSMS/dRf6ADmiiZlmAJDr40U36CsxJEuO/aBhp+5lmQBl0
      X-Dd-Version:
      - "35.4276613"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "1000"
      X-Ratelimit-Period:
      - "3600"
      X-Ratelimit-Remaining:
      - "981"
      X-Ratelimit-Reset:
      - "2527"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - ListActiveMetrics
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.19+dev (go go1.15.7; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "2101933648703573387"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "1319794266971762466"
    url: https://api.datadoghq.com/api/v1/metrics?from=1617977863
    method: GET
  response:
    body: '{"metrics":["Test_TestMetrics_1617977863"],"from":"1617977863"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Fri, 09 Apr 2021 14:18:03 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - IwmuULOSNl3l03KV7vNBGI8yWNLRNEavgz7Tjs/PdGnd+Uh7zzgjHamq1j/CGfjv
      X-Dd-Version:
      - "35.4276613"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "1000"
      X-Ratelimit-Period:
      - "3600"
      X-Ratelimit-Remaining:
      - "980"
      X-Ratelimit-Reset:
      - "2517"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - QueryMetrics
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.19+dev (go go1.15.7; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "9131064828621079191"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "1319794266971762466"
    url: https://api.datadoghq.com/api/v1/query?from=1617977763&query=avg%3ATest_TestMetrics_1617977863%7Bbar%3Abaz%7Dby%7Bhost%7D&to=1617977963
    method: GET
  response:
    body: '{"status":"ok","res_type":"time_series","from_date":1617977763000,"series":[{"end":1617977863000,"attributes":{},"metric":"Test_TestMetrics_1617977863","interval":1,"tag_set":["host:go-client-test-host"],"start":1617977803000,"length":2,"query_index":0,"aggr":"avg","scope":"bar:baz,host:go-client-test-host","pointlist":[[1617977803000.0,10.5],[1617977863000.0,11.0]],"expression":"avg:Test_TestMetrics_1617977863{bar:baz,host:go-client-test-host}","unit":null,"display_name":"Test_TestMetrics_1617977863"}],"to_date":1617977963000,"resp_version":1,"query":"avg:Test_TestMetrics_1617977863{bar:baz}by{host}","message":"","group_by":["host"]}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Fri, 09 Apr 2021 14:18:04 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - ADTUWWOzRI3TTp/mC1tLnevIb68AW1O76KcDvn1fwJ7wk/NmEhbiIAvvPRklPaib
      X-Dd-Version:
      - "35.4276613"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "1600"
      X-Ratelimit-Period:
      - "3600"
      X-Ratelimit-Remaining:
      - "1597"
      X-Ratelimit-Reset:
      - "2516"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - ListMetrics
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.19+dev (go go1.15.7; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "6077434100659221518"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "1319794266971762466"
    url: https://api.datadoghq.com/api/v1/search?q=metrics%3ATest_TestMetrics_1617977863
    method: GET
  response:
    body: '{"results":{"metrics":["Test_TestMetrics_1617977863"]}}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Fri, 09 Apr 2021 14:18:04 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - 4nYtlbGdEBgC/IcxaFTKSAvhAZv3rMnqt/xe0vC2pCAkwYIXnJX20qetwypycbcy
      X-Dd-Version:
      - "35.4276613"
      X-Frame-Options:
      - SAMEORIGIN
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Dd-Operation-Id:
      - GetMetricMetadata
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.19+dev (go go1.15.7; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "8054822266697678806"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "1319794266971762466"
    url: https://api.datadoghq.com/api/v1/metrics/Test_TestMetrics_1617977863
    method: GET
  response:
    body: '{"description":null,"short_name":null,"integration":null,"statsd_interval":null,"per_unit":null,"type":null,"unit":null}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Fri, 09 Apr 2021 14:18:04 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - nrAW27jcxHhQCbvsq93/O/q5PX7j8x4QnlbjbkKjp/Db3/Vak/sWemW/qh/bdvkn
      X-Dd-Version:
      - "35.4276613"
      X-Frame-Options:
      - SAMEORIGIN
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |
      {"description":"description","per_unit":"second","short_name":"short_name","statsd_interval":20,"type":"count","unit":"byte"}
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      Dd-Operation-Id:
      - UpdateMetricMetadata
      User-Agent:
      - datadog-api-client-go/1.0.0-beta.19+dev (go go1.15.7; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "8040168379638693007"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "1319794266971762466"
    url: https://api.datadoghq.com/api/v1/metrics/Test_TestMetrics_1617977863
    method: PUT
  response:
    body: '{"description":"description","short_name":"short_name","integration":null,"statsd_interval":20,"per_unit":"second","type":"count","unit":"byte"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Fri, 09 Apr 2021 14:18:05 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Dd-Debug:
      - +L3cOfomyGGuXv+NlljFgOXDhA8u+DdhktfMTq5dNwRAQOJlilnIrPxwleX76+2G
      X-Dd-Version:
      - "35.4276613"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "2000"
      X-Ratelimit-Period:
      - "60"
      X-Ratelimit-Remaining:
      - "1999"
      X-Ratelimit-Reset:
      - "55"
    status: 200 OK
    code: 200
    duration: ""
