---
version: 1
interactions:
- request:
    body: |
      {"config":{"assertions":[{"operator":"is","property":"content-type","target":"text/html","type":"header"},{"operator":"lessThan","target":2000,"type":"responseTime"}],"request":{"headers":{"testingGoClient":"true"},"method":"GET","timeout":10,"url":"https://datadoghq.com"}},"locations":["aws:us-east-2"],"message":"Go client testing Synthetics API test - this is message","name":"Go client testing Synthetics API test","options":{"accept_self_signed":false,"follow_redirects":true,"min_location_failed":10,"retry":{"count":5,"interval":10},"tick_every":60},"subtype":"http","tags":["testing:api"],"type":"api"}
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - DataDog/0.1.0/go-experimental
    url: https://api.datadoghq.com/api/v1/synthetics/tests
    method: POST
  response:
    body: '{"status":"live","public_id":"2rt-xik-8dr","tags":["testing:api"],"org_id":321813,"locations":["aws:us-east-2"],"message":"Go
      client testing Synthetics API test - this is message","deleted_at":null,"name":"Go
      client testing Synthetics API test","monitor_id":17600208,"type":"api","created_at":"2020-04-10T12:07:49.695783+00:00","modified_at":"2020-04-10T12:07:49.695783+00:00","subtype":"http","config":{"request":{"url":"https://datadoghq.com","headers":{"testingGoClient":"true"},"method":"GET","timeout":10},"assertions":[{"operator":"is","property":"content-type","type":"header","target":"text/html"},{"operator":"lessThan","type":"responseTime","target":2000}]},"options":{"follow_redirects":true,"accept_self_signed":false,"retry":{"count":5,"interval":10},"min_location_failed":10,"tick_every":60}}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - "806"
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Fri, 10 Apr 2020 12:07:49 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Fri, 17-Apr-2020 12:07:49 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-Dd-Version:
      - "35.2377504"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "120"
      X-Ratelimit-Period:
      - "60"
      X-Ratelimit-Remaining:
      - "118"
      X-Ratelimit-Reset:
      - "11"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |
      {"config":{"assertions":[{"operator":"is","property":"content-type","target":"text/html","type":"header"},{"operator":"lessThan","target":2000,"type":"responseTime"}],"request":{"headers":{"testingGoClient":"true"},"method":"GET","timeout":10,"url":"https://datadoghq.com"}},"locations":["aws:us-east-2"],"message":"Go client testing Synthetics API test - this is message","name":"go client updated name","options":{"accept_self_signed":false,"follow_redirects":true,"min_location_failed":10,"retry":{"count":5,"interval":10},"tick_every":60},"status":"live","subtype":"http","tags":["testing:api"],"type":"api"}
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - DataDog/0.1.0/go-experimental
    url: https://api.datadoghq.com/api/v1/synthetics/tests/2rt-xik-8dr
    method: PUT
  response:
    body: '{"status":"live","public_id":"2rt-xik-8dr","tags":["testing:api"],"org_id":321813,"locations":["aws:us-east-2"],"message":"Go
      client testing Synthetics API test - this is message","deleted_at":null,"name":"go
      client updated name","monitor_id":17600208,"type":"api","created_at":"2020-04-10T12:07:49.695783+00:00","modified_at":"2020-04-10T12:07:50.163130+00:00","subtype":"http","config":{"request":{"url":"https://datadoghq.com","headers":{"testingGoClient":"true"},"method":"GET","timeout":10},"assertions":[{"operator":"is","property":"content-type","type":"header","target":"text/html"},{"operator":"lessThan","type":"responseTime","target":2000}]},"options":{"follow_redirects":true,"accept_self_signed":false,"retry":{"count":5,"interval":10},"min_location_failed":10,"tick_every":60}}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - "791"
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Fri, 10 Apr 2020 12:07:50 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Fri, 17-Apr-2020 12:07:50 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-Dd-Version:
      - "35.2377504"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "500"
      X-Ratelimit-Period:
      - "60"
      X-Ratelimit-Remaining:
      - "496"
      X-Ratelimit-Reset:
      - "10"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      User-Agent:
      - DataDog/0.1.0/go-experimental
    url: https://api.datadoghq.com/api/v1/synthetics/tests/2rt-xik-8dr
    method: GET
  response:
    body: '{"status":"live","public_id":"2rt-xik-8dr","tags":["testing:api"],"locations":["aws:us-east-2"],"message":"Go
      client testing Synthetics API test - this is message","modified_by":{"email":"frog@datadoghq.com","handle":"frog@datadoghq.com","id":1445416,"name":null},"name":"go
      client updated name","monitor_id":17600208,"type":"api","created_at":"2020-04-10T12:07:49.695783+00:00","modified_at":"2020-04-10T12:07:50.163130+00:00","created_by":{"email":"frog@datadoghq.com","handle":"frog@datadoghq.com","id":1445416,"name":null},"subtype":"http","overall_state_modified":"2020-04-10T12:07:50.728791+00:00","overall_state":2,"config":{"request":{"url":"https://datadoghq.com","headers":{"testingGoClient":"true"},"method":"GET","timeout":10},"assertions":[{"operator":"is","property":"content-type","type":"header","target":"text/html"},{"operator":"lessThan","type":"responseTime","target":2000}]},"options":{"follow_redirects":true,"accept_self_signed":false,"retry":{"count":5,"interval":10},"min_location_failed":10,"tick_every":60}}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - "1034"
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Fri, 10 Apr 2020 12:07:50 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Fri, 17-Apr-2020 12:07:50 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-Dd-Version:
      - "35.2377504"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "1000"
      X-Ratelimit-Period:
      - "60"
      X-Ratelimit-Remaining:
      - "998"
      X-Ratelimit-Reset:
      - "10"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |
      {"new_status":"paused"}
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - DataDog/0.1.0/go-experimental
    url: https://api.datadoghq.com/api/v1/synthetics/tests/2rt-xik-8dr/status
    method: PUT
  response:
    body: "true"
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - "4"
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Fri, 10 Apr 2020 12:07:51 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Fri, 17-Apr-2020 12:07:50 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-Dd-Version:
      - "35.2377504"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "120"
      X-Ratelimit-Period:
      - "60"
      X-Ratelimit-Remaining:
      - "115"
      X-Ratelimit-Reset:
      - "10"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |
      {"new_status":"live"}
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - DataDog/0.1.0/go-experimental
    url: https://api.datadoghq.com/api/v1/synthetics/tests/2rt-xik-8dr/status
    method: PUT
  response:
    body: "true"
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - "4"
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Fri, 10 Apr 2020 12:07:51 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Fri, 17-Apr-2020 12:07:51 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-Dd-Version:
      - "35.2377504"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "120"
      X-Ratelimit-Period:
      - "60"
      X-Ratelimit-Remaining:
      - "114"
      X-Ratelimit-Reset:
      - "9"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      User-Agent:
      - DataDog/0.1.0/go-experimental
    url: https://api.datadoghq.com/api/v1/synthetics/tests/2rt-xik-8dr/results?probe_dc=aws%3Aus-east-2
    method: GET
  response:
    body: '{"last_timestamp_fetched":1581336471000,"results":[{"status":1,"check_time":1586520471442,"check_version":1,"result":{"errorMessage":"[{\"index\":0,\"operator\":\"is\",\"property\":\"content-type\",\"type\":\"header\",\"target\":\"text/html\",\"valid\":false,\"actual\":\"text/html;
      charset=utf-8\"}]","nextTryAt":"2020-04-10T12:07:51.655Z","timings":{"redirect":85,"firstByte":24.8,"tcp":18.8,"ssl":39.5,"dns":13.377870082855225,"download":19.9,"total":201.4},"initialResultID":"7906674183954379506","runType":null},"probe_dc":"aws:us-east-2","result_id":"7906674183954379260"},{"status":1,"check_time":1586520471266,"check_version":2,"result":{"errorMessage":"[{\"index\":0,\"operator\":\"is\",\"property\":\"content-type\",\"type\":\"header\",\"target\":\"text/html\",\"valid\":false,\"actual\":\"text/html;
      charset=utf-8\"}]","nextTryAt":"2020-04-10T12:07:51.467Z","timings":{"redirect":90.4,"firstByte":22.3,"tcp":18.4,"ssl":39.7,"dns":0.6115279197692871,"download":18.5,"total":189.9},"initialResultID":"4961198917768127446","runType":null},"probe_dc":"aws:us-east-2","result_id":"4961198917768127697"},{"status":1,"check_time":1586520471111,"check_version":1,"result":{"errorMessage":"[{\"index\":0,\"operator\":\"is\",\"property\":\"content-type\",\"type\":\"header\",\"target\":\"text/html\",\"valid\":false,\"actual\":\"text/html;
      charset=utf-8\"}]","nextTryAt":"2020-04-10T12:07:51.345Z","timings":{"redirect":101.8,"firstByte":42.9,"tcp":18.8,"ssl":39.7,"dns":0.41803300380706787,"download":18.5,"total":222.1},"initialResultID":"7906674183954379506","runType":null},"probe_dc":"aws:us-east-2","result_id":"7906674183954379298"},{"status":1,"check_time":1586520470812,"check_version":2,"result":{"errorMessage":"[{\"index\":0,\"operator\":\"is\",\"property\":\"content-type\",\"type\":\"header\",\"target\":\"text/html\",\"valid\":false,\"actual\":\"text/html;
      charset=utf-8\"}]","nextTryAt":"2020-04-10T12:07:51.019Z","timings":{"redirect":82.9,"firstByte":20,"tcp":18.8,"ssl":40.5,"dns":9.951226994395256,"download":22.8,"total":195},"runType":null},"probe_dc":"aws:us-east-2","result_id":"4961198917768127446"},{"status":1,"check_time":1586520470710,"check_version":1,"result":{"errorMessage":"[{\"index\":0,\"operator\":\"is\",\"property\":\"content-type\",\"type\":\"header\",\"target\":\"text/html\",\"valid\":false,\"actual\":\"text/html;
      charset=utf-8\"}]","nextTryAt":"2020-04-10T12:07:50.925Z","timings":{"redirect":100.3,"firstByte":19.6,"tcp":18.5,"ssl":42.1,"dns":0.9390519857406616,"download":22.6,"total":204},"initialResultID":"7906674183954379506","runType":null},"probe_dc":"aws:us-east-2","result_id":"7906674183954379827"},{"status":1,"check_time":1586520470269,"check_version":1,"result":{"errorMessage":"[{\"index\":0,\"operator\":\"is\",\"property\":\"content-type\",\"type\":\"header\",\"target\":\"text/html\",\"valid\":false,\"actual\":\"text/html;
      charset=utf-8\"}]","nextTryAt":"2020-04-10T12:07:50.519Z","timings":{"redirect":110.2,"firstByte":19.2,"tcp":18.1,"ssl":39.2,"dns":30.205151081085205,"download":22.1,"total":239},"initialResultID":"7906674183954379506","runType":null},"probe_dc":"aws:us-east-2","result_id":"7906674183954379782"},{"status":1,"check_time":1586520469855,"check_version":1,"result":{"errorMessage":"[{\"index\":0,\"operator\":\"is\",\"property\":\"content-type\",\"type\":\"header\",\"target\":\"text/html\",\"valid\":false,\"actual\":\"text/html;
      charset=utf-8\"}]","nextTryAt":"2020-04-10T12:07:50.082Z","timings":{"redirect":100.9,"firstByte":19.6,"tcp":18.6,"ssl":40.3,"dns":12.748756989836693,"download":22.7,"total":214.8},"runType":null},"probe_dc":"aws:us-east-2","result_id":"7906674183954379506"}]}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - "3676"
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Fri, 10 Apr 2020 12:07:51 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Fri, 17-Apr-2020 12:07:51 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-Dd-Version:
      - "35.2377504"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "1000"
      X-Ratelimit-Period:
      - "60"
      X-Ratelimit-Remaining:
      - "998"
      X-Ratelimit-Reset:
      - "9"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |
      {"public_ids":["2rt-xik-8dr"]}
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - DataDog/0.1.0/go-experimental
    url: https://api.datadoghq.com/api/v1/synthetics/tests/delete
    method: POST
  response:
    body: '{"deleted_tests":[{"deleted_at":"2020-04-10T12:07:52.260134+00:00","public_id":"2rt-xik-8dr"}]}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - "95"
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Fri, 10 Apr 2020 12:07:52 GMT
      Pragma:
      - no-cache
      Set-Cookie:
      - DD-PSHARD=233; Max-Age=604800; Path=/; expires=Fri, 17-Apr-2020 12:07:52 GMT;
        secure; HttpOnly
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-Dd-Version:
      - "35.2377504"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "120"
      X-Ratelimit-Period:
      - "60"
      X-Ratelimit-Remaining:
      - "117"
      X-Ratelimit-Reset:
      - "8"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |
      {"public_ids":["2rt-xik-8dr"]}
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - DataDog/0.1.0/go-experimental
    url: https://api.datadoghq.com/api/v1/synthetics/tests/delete
    method: POST
  response:
    body: '{"errors": ["Synthetics test not found"]}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - "41"
      Content-Security-Policy:
      - frame-ancestors 'self'; report-uri https://api.datadoghq.com/csp-report
      Content-Type:
      - application/json
      Date:
      - Fri, 10 Apr 2020 12:07:52 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      X-Content-Type-Options:
      - nosniff
      X-Dd-Version:
      - "35.2377504"
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "120"
      X-Ratelimit-Period:
      - "60"
      X-Ratelimit-Remaining:
      - "116"
      X-Ratelimit-Reset:
      - "8"
    status: 404 Not Found
    code: 404
    duration: ""
