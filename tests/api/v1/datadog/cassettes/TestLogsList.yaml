---
version: 1
interactions:
- request:
    body: '{"ddsource": "go-client-test-1650625315352493000", "ddtags": "go,test,list",
      "hostname": "Test-TestLogsList-1650625315", "message": "{\"timestamp\": 1650625314000,
      \"message\": \"test-log-list-1650625315352493000\"}"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      X-Datadog-Parent-Id:
      - "713989600600988573"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "713989600600988573"
    url: https://http-intake.logs.datadoghq.com/v1/input
    method: POST
  response:
    body: '{}'
    headers:
      Content-Length:
      - "2"
      Content-Type:
      - application/json
      Cross-Origin-Resource-Policy:
      - cross-origin
      Date:
      - Fri, 22 Apr 2022 11:01:55 GMT
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"ddsource": "go-client-test-1650625315352493000", "ddtags": "go,test,list",
      "hostname": "Test-TestLogsList-1650625315", "message": "{\"timestamp\": 1650625315000,
      \"message\": \"second-test-log-list-1650625315352493000\"}"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      X-Datadog-Parent-Id:
      - "8448048084977900180"
      X-Datadog-Sampling-Priority:
      - "1"
      X-Datadog-Trace-Id:
      - "8448048084977900180"
    url: https://http-intake.logs.datadoghq.com/v1/input
    method: POST
  response:
    body: '{}'
    headers:
      Content-Length:
      - "2"
      Content-Type:
      - application/json
      Cross-Origin-Resource-Policy:
      - cross-origin
      Date:
      - Fri, 22 Apr 2022 11:01:56 GMT
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |
      {"limit":2,"query":"source:go-client-test-1650625315352493000","sort":"asc","time":{"from":"2022-04-22T12:01:55.352+02:00","to":"2022-04-22T14:01:55.352+02:00"}}
    form: {}
    headers:
      Accept:
      - application/json
      Content-Length:
      - "162"
      Content-Type:
      - application/json
      User-Agent:
      - datadog-api-client-go/1.13.1+dev (go go1.17.3; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "9154047034888081475"
      X-Datadog-Sampling-Priority:
      - "2"
      X-Datadog-Trace-Id:
      - "8410439091647982457"
    url: https://api.datadoghq.com/api/v1/logs-queries/list
    method: POST
  response:
    body: '{"status":"done","nextLogId":null,"logs":[],"requestId":"pddv1ChZQTm5HS211LVF1T2xQN2VQQ1MxNl93IiwKHG3l1wQkZJAkeve5iGHT3L_TZE3T5scwLZJHy0kSDFa5W7Yp1rc9MzOTQA"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Fri, 22 Apr 2022 11:01:56 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "10"
      X-Ratelimit-Name:
      - logs_public_search_api
      X-Ratelimit-Period:
      - "10"
      X-Ratelimit-Remaining:
      - "8"
      X-Ratelimit-Reset:
      - "4"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |
      {"limit":2,"query":"source:go-client-test-1650625315352493000","sort":"asc","time":{"from":"2022-04-22T12:01:55.352+02:00","to":"2022-04-22T14:01:55.352+02:00"}}
    form: {}
    headers:
      Accept:
      - application/json
      Content-Length:
      - "162"
      Content-Type:
      - application/json
      User-Agent:
      - datadog-api-client-go/1.13.1+dev (go go1.17.3; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "5376513145267978793"
      X-Datadog-Sampling-Priority:
      - "2"
      X-Datadog-Trace-Id:
      - "8410439091647982457"
    url: https://api.datadoghq.com/api/v1/logs-queries/list
    method: POST
  response:
    body: '{"status":"done","nextLogId":null,"logs":[],"requestId":"pddv1ChZ5eUpiMUJTOFQtYWNXUVBpZVN0ZGh3IisKG0xuftf7uPVi662288hr4WDjfqfaaZ9xtZohNRIMpJU40bJcrVzkNWqI"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Fri, 22 Apr 2022 11:02:11 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "10"
      X-Ratelimit-Name:
      - logs_public_search_api
      X-Ratelimit-Period:
      - "10"
      X-Ratelimit-Remaining:
      - "8"
      X-Ratelimit-Reset:
      - "9"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |
      {"limit":2,"query":"source:go-client-test-1650625315352493000","sort":"asc","time":{"from":"2022-04-22T12:01:55.352+02:00","to":"2022-04-22T14:01:55.352+02:00"}}
    form: {}
    headers:
      Accept:
      - application/json
      Content-Length:
      - "162"
      Content-Type:
      - application/json
      User-Agent:
      - datadog-api-client-go/1.13.1+dev (go go1.17.3; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "6533600261610907910"
      X-Datadog-Sampling-Priority:
      - "2"
      X-Datadog-Trace-Id:
      - "8410439091647982457"
    url: https://api.datadoghq.com/api/v1/logs-queries/list
    method: POST
  response:
    body: '{"status":"done","nextLogId":null,"logs":[{"content":{"attributes":{"timestamp":1650625314000,"hostname":"Test-TestLogsList-1650625315"},"host":"Test-TestLogsList-1650625315","tags":["source:go-client-test-1650625315352493000","test","go","list","source:go-client-test-1650625315352493000"],"message":"test-log-list-1650625315352493000","timestamp":"2022-04-22T11:01:54.000Z"},"id":"AQAAAYBQ73zQBRCCwQAAAABBWUJRNzRSaEFBRGJwclJXTVFOSXFBQUE"},{"content":{"attributes":{"timestamp":1650625315000,"hostname":"Test-TestLogsList-1650625315"},"host":"Test-TestLogsList-1650625315","tags":["source:go-client-test-1650625315352493000","test","go","list","source:go-client-test-1650625315352493000"],"message":"second-test-log-list-1650625315352493000","timestamp":"2022-04-22T11:01:55.000Z"},"id":"AQAAAYBQ74C4jJlvLwAAAABBWUJRNzRUNUFBRGlCT3RkNTJ5SzFRQUE"}],"requestId":"pddv1ChZFNzNrenFjUlFObS05dnlhYTh0dnNBIisKG2pJ2GJYmcD9Hpj-SC9bUR2BF-WICXeurgyr6BIM5KJpcXWxHwXozo05"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Fri, 22 Apr 2022 11:02:27 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "10"
      X-Ratelimit-Name:
      - logs_public_search_api
      X-Ratelimit-Period:
      - "10"
      X-Ratelimit-Remaining:
      - "7"
      X-Ratelimit-Reset:
      - "4"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |
      {"limit":1,"query":"source:go-client-test-1650625315352493000","sort":"asc","time":{"from":"2022-04-22T12:01:55.352+02:00","to":"2022-04-22T14:01:55.352+02:00"}}
    form: {}
    headers:
      Accept:
      - application/json
      Content-Length:
      - "162"
      Content-Type:
      - application/json
      User-Agent:
      - datadog-api-client-go/1.13.1+dev (go go1.17.3; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "2070414172681705318"
      X-Datadog-Sampling-Priority:
      - "2"
      X-Datadog-Trace-Id:
      - "8410439091647982457"
    url: https://api.datadoghq.com/api/v1/logs-queries/list
    method: POST
  response:
    body: '{"status":"done","nextLogId":"AQAAAYBQ74C4jJlvLwAAAABBWUJRNzRUNUFBRGlCT3RkNTJ5SzFRQUE","logs":[{"content":{"attributes":{"timestamp":1650625314000,"hostname":"Test-TestLogsList-1650625315"},"host":"Test-TestLogsList-1650625315","tags":["source:go-client-test-1650625315352493000","test","go","list","source:go-client-test-1650625315352493000"],"message":"test-log-list-1650625315352493000","timestamp":"2022-04-22T11:01:54.000Z"},"id":"AQAAAYBQ73zQBRCCwQAAAABBWUJRNzRSaEFBRGJwclJXTVFOSXFBQUE"}],"requestId":"pddv1ChZsMlBEeVJ0elJFeTM2aEQ5bXBuV25nIi0KHTiRTEXhFDlWQE_WyxWCUE_HzB-uF1xSp3sIWF2TEgz0YGqahrVheJutxK4"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Fri, 22 Apr 2022 11:02:27 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "10"
      X-Ratelimit-Name:
      - logs_public_search_api
      X-Ratelimit-Period:
      - "10"
      X-Ratelimit-Remaining:
      - "5"
      X-Ratelimit-Reset:
      - "3"
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: |
      {"limit":1,"query":"source:go-client-test-1650625315352493000","sort":"asc","startAt":"AQAAAYBQ74C4jJlvLwAAAABBWUJRNzRUNUFBRGlCT3RkNTJ5SzFRQUE","time":{"from":"2022-04-22T12:01:55.352+02:00","to":"2022-04-22T14:01:55.352+02:00"}}
    form: {}
    headers:
      Accept:
      - application/json
      Content-Length:
      - "230"
      Content-Type:
      - application/json
      User-Agent:
      - datadog-api-client-go/1.13.1+dev (go go1.17.3; os darwin; arch amd64)
      X-Datadog-Parent-Id:
      - "1593216164385390691"
      X-Datadog-Sampling-Priority:
      - "2"
      X-Datadog-Trace-Id:
      - "8410439091647982457"
    url: https://api.datadoghq.com/api/v1/logs-queries/list
    method: POST
  response:
    body: '{"status":"done","nextLogId":null,"logs":[{"content":{"attributes":{"timestamp":1650625315000,"hostname":"Test-TestLogsList-1650625315"},"host":"Test-TestLogsList-1650625315","tags":["source:go-client-test-1650625315352493000","test","go","list","source:go-client-test-1650625315352493000"],"message":"second-test-log-list-1650625315352493000","timestamp":"2022-04-22T11:01:55.000Z"},"id":"AQAAAYBQ74C4jJlvLwAAAABBWUJRNzRUNUFBRGlCT3RkNTJ5SzFRQUE"}],"requestId":"pddv1ChYtWHNreTZTRlNGV0J3VEhaTlJEVHF3IisKG6_el2a02eRctNrNGYYW_zQnpux3q8Tjf9SjnBIM8HtgbqOFY6OverfI"}'
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Fri, 22 Apr 2022 11:02:27 GMT
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=15724800;
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Ratelimit-Limit:
      - "10"
      X-Ratelimit-Name:
      - logs_public_search_api
      X-Ratelimit-Period:
      - "10"
      X-Ratelimit-Remaining:
      - "3"
      X-Ratelimit-Reset:
      - "3"
    status: 200 OK
    code: 200
    duration: ""
